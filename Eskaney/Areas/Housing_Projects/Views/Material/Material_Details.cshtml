@model IEnumerable<Eskaney.Models.Material_Expenses>

@{
    ViewBag.Title = "Material Details";
    Layout = "~/Areas/Housing_Projects/Views/Shared/_Home.cshtml";
}

@section Head{


    <script type="text/javascript">

        $(document).ready(function () {

            $("#Material").addClass("active");

            debugger
            var id = '@TempData["HousingID"]';

            $('#dtBasicExample').DataTable();
            $('.dataTables_length').addClass('bs-select');
        })


        @*function LoadData(id) {

            debugger

            $("#tblMeterial tbody tr").remove();
            $.ajax({
                type: 'Get',
                url: '/Material/getMaterials?id=x'.replace('x', id),
                dataType: 'json',
                success: function (data) {

                    debugger
                    var x = 1;
                    $.each(data, function (i, item) {
                        debugger
                        var MatId = item.id;
                        var txtMatName = item.Material_Name;
                        var txtEnvoiceNum = item.EnvoiceNumber;
                        var txtQuantity = item.Quantity;
                        var txtDate = new Date(parseInt(item.Date.replace("/Date(", "").replace(")/", ""), 0));
                        var txtCoust = item.Coust;
                        var txtNotes = item.Notes;

                        var Day = txtDate.getDate();
                        var Month = txtDate.getMonth() + 1;
                        var Year = txtDate.getFullYear();

                        var rows = "<tr>"
                            + "<td>" + x + "</td>"
                            + "<td>" + txtMatName + "</td>"
                            + "<td>" + txtEnvoiceNum + "</td>"
                            + "<td>" + txtQuantity + "</td>"
                            + "<td>" + Day + "/" + Month + "/" + Year + "</td>"
                            + "<td>" + txtCoust + "</td>"
                            + "<td>" + txtNotes + "</td>"
                            + "<td> <a href='@Url.Action("Edit", "Material", new { id = 1 })' style='color: blue;'> <i class='fas fa-edit'></i>" + 'Edit' + "</a >"
                            + " |   <a href='@Url.Action("Delete", "Material", new { id = 1 })' style='color: red;'> <i class='fas fa-trash'></i>" + 'Delete' + "</a > </td>"
                            + "</tr>";
                        $('#tblMeterial tbody').append(rows);

                        x++;
                    });
                },
                error: function (ex) {
                    var r = jQuery.parseJSON(response.responseText);
                    alert("Message: " + r.Message);
                    alert("StackTrace: " + r.StackTrace);
                    alert("ExceptionType: " + r.ExceptionType);
                }
            });
            return false;
        }*@


    </script>


    <style>
        table.dataTable thead .sorting:after,
        table.dataTable thead .sorting:before,
        table.dataTable thead .sorting_asc:after,
        table.dataTable thead .sorting_asc:before,
        table.dataTable thead .sorting_asc_disabled:after,
        table.dataTable thead .sorting_asc_disabled:before,
        table.dataTable thead .sorting_desc:after,
        table.dataTable thead .sorting_desc:before,
        table.dataTable thead .sorting_desc_disabled:after,
        table.dataTable thead .sorting_desc_disabled:before {
            bottom: .5em;
        }

        tr {
            text-align: center;
        }

        th {
            background-color: #464a5d;
        }
    </style>

}

@section Body{


        @*<h1 class="text-center">Meterial Details</h1>
        <div class="card mb-4">
            <div class="card-header"><h4 style="cursor: default;"><i style="margin-right: 20px;" class="fas fa-hammer mr-4"></i>Meterial Details</h4></div>
            <div class="card-body">
                <div class="table-responsive">
                    <table id="tblMeterial" class="table table-striped table-bordered table-sm" width="100%" cellspacing="0" style="text-align:center;">
                        <thead style="background-color: #a2a0a0;color: white;">
                            <tr>
                                <th></th>
                                <th>Material Name</th>
                                <th>Envoice Number</th>
                                <th>Quantity</th>
                                <th>Date</th>
                                <th>Coust</th>
                                <th>Notes</th>
                                <th></th>
                            </tr>
                        </thead>

                        <tbody>
                        </tbody>

                        <tfoot style="background-color: #a2a0a0;color: white;">
                            <tr>
                                <th></th>
                                <th>Material Name</th>
                                <th>Envoice Number</th>
                                <th>Quantity</th>
                                <th>Date</th>
                                <th>Coust</th>
                                <th>Notes</th>
                                <th></th>
                            </tr>
                        </tfoot>
                    </table>

                </div>
            </div>
        </div>*@








    <h1 class="text-center">Material Details</h1>
        <div class="card mb-4">
            <div class="card-header"><h4 style="cursor: default;"><i style="margin-right: 20px;" class="fas fa-tools mr-4"></i>ManPower Details</h4></div>
            <div class="card-body">
                <div class="table-responsive">
                    <table id="dtBasicExample" class="table table-fixed table-bordered table-sm" cellspacing="0" width="100%" @*id="tblManPower" class="table table-striped table-bordered table-sm" width="100%" cellspacing="0" style="text-align:center;"*@>
                        <thead style="background-color: #a2a0a0;color: white;">
                            <tr>
                                <th class="th-sm" style="width:5px"></th>
                                <th class="th-sm" style="width:60px">Name</th>
                                <th class="th-sm">Material Name</th>
                                <th class="th-sm">Material Source</th>
                                <th class="th-sm" style="width:60px">Quantity</th>
                                <th class="th-sm" style="width:60px">Date</th>
                                <th class="th-sm" style="width:60px">Coust</th>
                                <th class="th-sm">Envoice Number</th>
                                <th class="th-sm">Notes</th>
                                <th class="th-sm"></th>
                            </tr>
                        </thead>

                        <tbody>
                            @{int x = 1;}
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td> @x </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.housing.Project_Name)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Material_Name)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Material_Source)
                                    </td>
                                    <td style="width:60px">
                                        @Html.DisplayFor(modelItem => item.Quantity)
                                    </td>
                                    <td style="width:60px">
                                        @Html.DisplayFor(modelItem => item.Date)
                                    </td>
                                    <td style="width:60px">
                                        @Html.DisplayFor(modelItem => item.Coust)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.EnvoiceNumber)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Notes)
                                    </td>
                                    <td>
                                        <a href="@Url.Action("Edit", "Material", new { id = item.ID, @class = item.Housing_ID })" style="color: blue;">
                                            <i class="fas fa-edit"></i>
                                            Edit
                                        </a>
                                        |
                                        <a href="@Url.Action("Delete", "Material", new { id = item.ID })" style="color: red;">
                                            <i class="fas fa-trash"></i>
                                            Delete
                                        </a>

                                    </td>
                                </tr>

                                x++;
                            }

                        </tbody>

                        <tfoot style="background-color: #a2a0a0;color: white;">
                            <tr>
                                <th style="width:5px"></th>
                                <th style="width:60px">Name</th>
                                <th>Material Name</th>
                                <th>Material Source</th>
                                <th style="width:60px">Quantity</th>
                                <th style="width:60px">Date</th>
                                <th style="width:60px">Coust</th>
                                <th>Envoice Number</th>
                                <th>Notes</th>
                                <th></th>
                            </tr>
                        </tfoot>
                    </table>

                </div>
            </div>
        </div>


}





